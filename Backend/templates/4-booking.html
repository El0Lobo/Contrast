{% extends "1-admin.html" %}

{% block content %}
<h1>Band Booking</h1>

<!-- Form to add a new band -->
<form method="POST" action="/add_band" enctype="multipart/form-data">
    <label for="band_name">Name der Band:</label>
    <input type="text" id="band_name" name="band_name" required><br>

    <label for="logo">Logo:</label>
    <input type="file" id="logo" name="logo" accept="image/*"><br>

    <label for="genre">Genre:</label>
    <input type="text" id="genre" name="genre" required><br>

    <label for="contact">Kontakt:</label>
    <input type="text" id="contact" name="contact" required><br>

    <label for="doordeal">Doordeal?</label>
    <input type="checkbox" id="doordeal" name="doordeal"><br>

    <label for="door_price">Doorprice:</label>
    <input type="number" id="door_price" name="door_price" step="0.01" placeholder="€" required><br>

    <label for="fixed_price">Preis bezahlt (wenn kein Doordeal):</label>
    <input type="number" id="fixed_price" name="fixed_price" step="0.01" placeholder="€"><br>

    <label for="last_booked">Last Booked:</label>
    <input type="date" id="last_booked" name="last_booked"><br>

    <label for="comment">Kommentar:</label>
    <textarea id="comment" name="comment" rows="4" cols="50" placeholder="Enter your comment here..."></textarea><br>

    <input type="submit" value="Add Band">
</form>

<hr>

<!-- List of bands -->
<h2>Existing Bands</h2>
<div class="bands-list">
    {% if bands_data.bands %}
        {% for band in bands_data.bands %}
        <div class="band-entry">
            <h3>{{ band.name }}</h3>
            <img src="{{ band.logo }}" alt="Logo" width="100"><br>
            <strong>Genre:</strong> {{ band.genre }}<br>
            <strong>Kontakt:</strong> {{ band.contact }}<br>
            <strong>Doordeal:</strong> {{ 'Yes' if band.doordeal else 'No' }}<br>
            <strong>Doorprice:</strong> €{{ band.door_price }}<br>
            <strong>Preis bezahlt:</strong> €{{ band.fixed_price if not band.doordeal else 'N/A' }}<br>
            <strong>Last Booked:</strong> {{ band.last_booked }}<br>
            <strong>Kommentar:</strong> {{ band.comment }}<br>
        </div>
        <hr>
        {% endfor %}
    {% else %}
        <p>No bands booked yet.</p>
    {% endif %}
</div>

{% endblock %}
